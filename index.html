<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>javascript please fucking work</title>
    </head>
    <body id = "body" style = "text-align: center;">
        <div class = "iotd">
            <h1>Space information!</h1>
        <input id = "iod"type="button" onclick = 'getImage()'value="Click for the nasa image of the day">
        <input id = "closestAsteroid"type="button" onclick = 'getAsteroids()'value="Click to see the closest asteroid data">
        <input id = "rover"type="button" onclick = 'getRover()'value="See what our favorite mars rover captured">
        <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
        <script>
            //Requests the nasa image of the day and then when the button is clicked the image is shown.
            let image;
            const getImage = () => {
                axios.get('https://api.nasa.gov/planetary/apod?api_key=LxgFJgPJHTFpJIkYPuusEdtzODiGbsuNMqoxJUw5').then(response => {
                    let explanation = response.data.explanation
                    image = response.data.url;
                    console.log(image);
                    var x = document.createElement('IMG');
                    document.getElementById('body').textContent = explanation;
                    x.setAttribute('src', image);
                    document.getElementById('body').appendChild(x);
                }).catch(error => console.error(error))
            } 
        </script>

        <script>
            const getAsteroids = () => {
                axios.get('https://api.nasa.gov/neo/rest/v1/feed?start_date=2021-11-30&api_key=LxgFJgPJHTFpJIkYPuusEdtzODiGbsuNMqoxJUw5').then(response => {
                    console.log(response);
                    let asteroids = response.data.near_earth_objects;
                    let x = JSON.stringify(asteroids,2021-12-01);
                    console.log(asteroids);
                    console.log(x);
                    document.getElementById('body').textContent = x;
                }).catch(error => console.error(error))
            }
        </script>

        <script>
            const getRover = () => {
                axios.get('https://api.nasa.gov/mars-photos/api/v1/rovers/curiosity/photos?sol=1000&camera=fhaz&api_key=LxgFJgPJHTFpJIkYPuusEdtzODiGbsuNMqoxJUw5').then(response => {
                    console.log(response);
                    let rover = response.data.photos[0].img_src;
                    var x = document.createElement('IMG');
                    x.setAttribute('src', rover);
                    document.getElementById('body').append(x);
                    console.log(rover);
                })
            }
        </script>
        </div>
    </body>
</html>
